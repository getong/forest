<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Verifies that a BLS aggregate signature is valid for a list of signers’ BLS public keys and and the digest of each signer’s plaintext."><title>verify_bls_aggregate in fvm_sdk::sys::crypto - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="fvm_sdk" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.0 (051478957 2024-07-21)" data-channel="1.80.0" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../fvm_sdk/index.html">fvm_sdk</a><span class="version">4.3.1</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In fvm_sdk::sys::crypto</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../../index.html">fvm_sdk</a>::<wbr><a href="../index.html">sys</a>::<wbr><a href="index.html">crypto</a>::<wbr><a class="fn" href="#">verify_bls_aggregate</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/fvm_sdk/sys/crypto.rs.html#13-250">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe fn verify_bls_aggregate(
    num_signers: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u32.html">u32</a>,
    sig_off: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*const </a><a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u8.html">u8</a>,
    pub_keys_off: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*const </a>[<a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.array.html">48</a>],
    plaintexts_off: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*const </a><a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u8.html">u8</a>,
    plaintext_lens_off: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*const </a><a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u32.html">u32</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.i32.html">i32</a>, <a class="enum" href="../enum.ErrorNumber.html" title="enum fvm_sdk::sys::ErrorNumber">ErrorNumber</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Verifies that a BLS aggregate signature is valid for a list of signers’ BLS public keys and
and the digest of each signer’s plaintext.</p>
<h2 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h2>
<ul>
<li><code>num_signers</code> - the number of signatures aggregated; for non-aggregate signatures <code>num_signers = 1</code>.</li>
<li><code>sig_off</code> - a pointer to the first byte of the signature being verified.</li>
<li><code>pub_keys_off</code> - a pointer to the first public key in an array containing each signer’s public
key.</li>
<li><code>plaintexts_off</code> - a pointer to the first byte in an array containing each plaintext’s bytes,
i.e. plaintexts must be allocated contiguously in memory (equivalent to the memory layout of an
array containing the concatenated plaintexts’ bytes).</li>
<li><code>plaintext_lens_off</code> - a pointer to the first element of an array containing each plaintext’s
byte length (each plaintexrt’s byte length is represented as a <code>u32</code>).</li>
</ul>
<h2 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h2>
<ul>
<li>
<p><code>Err(IllegalArgument)</code>:</p>
<ul>
<li>any pointer and byte length pair are an invalid location in their Wasm module’s memory.</li>
</ul>
</li>
<li>
<p><code>Ok(-1)</code>:</p>
<ul>
<li>the signature is an invalid G2 compressed curve point.</li>
<li>any public key is an invalid G1 compressed curve point.</li>
<li>there are duplicate plaintexts.</li>
<li>any public key in is the G1 identity/zero point.</li>
<li>the signature is invalid for the provided public keys and plaintexts.</li>
</ul>
</li>
<li>
<p><code>Ok(0)</code>:</p>
<ul>
<li>the provided signature is valid for the provided signers’ public keys and plaintexts.</li>
<li>the number of signers is zero</li>
</ul>
</li>
</ul>
</div></details></section></div></main></body></html>