<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Archives are key-value pairs encoded as CAR files. The key-value pairs represent a directed, acyclic graph (DAG). This graph is often a subset of a larger graph and references to missing keys are common."><title>forest_filecoin::tool::subcommands::archive_cmd - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-081576b923113409.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="forest_filecoin" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0 (129f3b996 2024-06-10)" data-channel="1.79.0" data-search-js="search-bf21c90c8c1d92b1.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../../static.files/storage-e32f0c247825364d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../forest_filecoin/index.html">forest_filecoin</a><span class="version">0.19.0</span></h2></div><h2 class="location"><a href="#">Module archive_cmd</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In forest_filecoin::tool::subcommands</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../../forest_filecoin/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Type â€˜Sâ€™ or â€˜/â€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" tabindex="-1"><a href="../../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../../index.html">forest_filecoin</a>::<wbr><a href="../../index.html">tool</a>::<wbr><a href="../index.html">subcommands</a>::<wbr><a class="mod" href="#">archive_cmd</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../../src/forest_filecoin/tool/subcommands/archive_cmd.rs.html#4-647">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Archives are key-value pairs encoded as
<a href="https://ipld.io/specs/transport/car/carv1/">CAR files</a>. The key-value pairs
represent a directed, acyclic graph (DAG). This graph is often a subset of a larger
graph and references to missing keys are common.</p>
<p>Each graph contains blocks, messages, state trees, and miscellaneous data
such as compiled <code>WASM</code> code. The amount of data differs greatly in different
kinds of archives. While there are no fixed definitions, there are three
common kind of archives:</p>
<ul>
<li>A full archive contains a complete graph with no missing nodes. These
archives are large (14 TiB for Filecoinâ€™s mainnet) and only used in special
situations.</li>
<li>A lite-archive typically has roughly 3 million blocks, 2000 complete sets of
state-roots, and 2000 sets of messages. These archives usually take up
roughly 100 GiB.</li>
<li>A diff-archive contains the subset of nodes that are <em>not</em> shared by two
other archives. These archives are much smaller but can rarely be used on
their own. They are typically merged with other archives before use.</li>
</ul>
<p>The sub-commands in this module manipulate archive files without needing a
running Forest-daemon or a separate database. Operations are carried out
directly on CAR files.</p>
<p>Additional reading: <a href="../../../db/car/plain/index.html" title="mod forest_filecoin::db::car::plain"><code>crate::db::car::plain</code></a></p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ArchiveInfo.html" title="struct forest_filecoin::tool::subcommands::archive_cmd::ArchiveInfo">ArchiveInfo</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ArchiveCommands.html" title="enum forest_filecoin::tool::subcommands::archive_cmd::ArchiveCommands">ArchiveCommands</a></div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.build_output_path.html" title="fn forest_filecoin::tool::subcommands::archive_cmd::build_output_path">build_output_path</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.do_export.html" title="fn forest_filecoin::tool::subcommands::archive_cmd::do_export">do_export</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.list_checkpoints.html" title="fn forest_filecoin::tool::subcommands::archive_cmd::list_checkpoints">list_checkpoints</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.merge_snapshots.html" title="fn forest_filecoin::tool::subcommands::archive_cmd::merge_snapshots">merge_snapshots</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Merge a set of snapshots (diff snapshots or lite snapshots). The output
snapshot links to the heaviest tipset in the input set.</div></li><li><div class="item-name"><a class="fn" href="fn.print_checkpoints.html" title="fn forest_filecoin::tool::subcommands::archive_cmd::print_checkpoints">print_checkpoints</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.show_tipset_diff.html" title="fn forest_filecoin::tool::subcommands::archive_cmd::show_tipset_diff">show_tipset_diff</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Compute the tree of actor states for a given epoch and compare it to the
expected result (as encoded in the blockchain). Differences are printed
using the diff format (red for the blockchain state, green for the computed
state).</div></li></ul></section></div></main></body></html>