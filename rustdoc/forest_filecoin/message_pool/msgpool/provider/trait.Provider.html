<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Provider Trait. This trait will be used by the message pool to interact with some medium in order to do the operations that are listed below that are required for the message pool."><title>Provider in forest_filecoin::message_pool::msgpool::provider - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="forest_filecoin" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.0 (051478957 2024-07-21)" data-channel="1.80.0" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../forest_filecoin/index.html">forest_filecoin</a><span class="version">0.19.2</span></h2></div><h2 class="location"><a href="#">Provider</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.chain_compute_base_fee">chain_compute_base_fee</a></li><li><a href="#tymethod.get_actor_after">get_actor_after</a></li><li><a href="#tymethod.get_heaviest_tipset">get_heaviest_tipset</a></li><li><a href="#tymethod.load_tipset">load_tipset</a></li><li><a href="#tymethod.messages_for_block">messages_for_block</a></li><li><a href="#tymethod.put_message">put_message</a></li><li><a href="#tymethod.subscribe_head_changes">subscribe_head_changes</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.max_actor_pending_messages">max_actor_pending_messages</a></li><li><a href="#method.max_untrusted_actor_pending_messages">max_untrusted_actor_pending_messages</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In forest_filecoin::message_pool::msgpool::provider</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../../../index.html">forest_filecoin</a>::<wbr><a href="../../index.html">message_pool</a>::<wbr><a href="../index.html">msgpool</a>::<wbr><a href="index.html">provider</a>::<wbr><a class="trait" href="#">Provider</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#32-61">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Provider {
    // Required methods
    fn <a href="#tymethod.subscribe_head_changes" class="fn">subscribe_head_changes</a>(&amp;self) -&gt; <a class="struct" href="../../../../tokio/sync/broadcast/struct.Receiver.html" title="struct tokio::sync::broadcast::Receiver">Subscriber</a>&lt;<a class="enum" href="../../../chain/store/chain_store/enum.HeadChange.html" title="enum forest_filecoin::chain::store::chain_store::HeadChange">HeadChange</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_heaviest_tipset" class="fn">get_heaviest_tipset</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.80.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../../blocks/tipset/struct.Tipset.html" title="struct forest_filecoin::blocks::tipset::Tipset">Tipset</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.put_message" class="fn">put_message</a>(&amp;self, msg: &amp;<a class="enum" href="../../../message/chain_message/enum.ChainMessage.html" title="enum forest_filecoin::message::chain_message::ChainMessage">ChainMessage</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../../../shim/fvm_latest/kernel/prelude/type.Cid.html" title="type forest_filecoin::shim::fvm_latest::kernel::prelude::Cid">Cid</a>, <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_actor_after" class="fn">get_actor_after</a>(
        &amp;self,
        addr: &amp;<a class="struct" href="../../../shim/address/struct.Address.html" title="struct forest_filecoin::shim::address::Address">Address</a>,
        ts: &amp;<a class="struct" href="../../../blocks/tipset/struct.Tipset.html" title="struct forest_filecoin::blocks::tipset::Tipset">Tipset</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../shim/state_tree/struct.ActorState.html" title="struct forest_filecoin::shim::state_tree::ActorState">ActorState</a>, <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.messages_for_block" class="fn">messages_for_block</a>(
        &amp;self,
        h: &amp;<a class="struct" href="../../../blocks/header/struct.CachingBlockHeader.html" title="struct forest_filecoin::blocks::header::CachingBlockHeader">CachingBlockHeader</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.80.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../shim/message/struct.Message.html" title="struct forest_filecoin::shim::message::Message">Message</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.80.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../message/signed_message/struct.SignedMessage.html" title="struct forest_filecoin::message::signed_message::SignedMessage">SignedMessage</a>&gt;), <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.load_tipset" class="fn">load_tipset</a>(&amp;self, tsk: &amp;<a class="struct" href="../../../blocks/tipset/struct.TipsetKey.html" title="struct forest_filecoin::blocks::tipset::TipsetKey">TipsetKey</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.80.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../../blocks/tipset/struct.Tipset.html" title="struct forest_filecoin::blocks::tipset::Tipset">Tipset</a>&gt;, <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.chain_compute_base_fee" class="fn">chain_compute_base_fee</a>(&amp;self, ts: &amp;<a class="struct" href="../../../blocks/tipset/struct.Tipset.html" title="struct forest_filecoin::blocks::tipset::Tipset">Tipset</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../shim/econ/struct.TokenAmount.html" title="struct forest_filecoin::shim::econ::TokenAmount">TokenAmount</a>, <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;;

    // Provided methods
    fn <a href="#method.max_actor_pending_messages" class="fn">max_actor_pending_messages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u64.html">u64</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.max_untrusted_actor_pending_messages" class="fn">max_untrusted_actor_pending_messages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u64.html">u64</a> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Provider Trait. This trait will be used by the message pool to interact with
some medium in order to do the operations that are listed below that are
required for the message pool.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.subscribe_head_changes" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#34">source</a><h4 class="code-header">fn <a href="#tymethod.subscribe_head_changes" class="fn">subscribe_head_changes</a>(&amp;self) -&gt; <a class="struct" href="../../../../tokio/sync/broadcast/struct.Receiver.html" title="struct tokio::sync::broadcast::Receiver">Subscriber</a>&lt;<a class="enum" href="../../../chain/store/chain_store/enum.HeadChange.html" title="enum forest_filecoin::chain::store::chain_store::HeadChange">HeadChange</a>&gt;</h4></section></summary><div class="docblock"><p>Update <code>Mpool</code>âs <code>cur_tipset</code> whenever there is a change to the provider</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_heaviest_tipset" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#36">source</a><h4 class="code-header">fn <a href="#tymethod.get_heaviest_tipset" class="fn">get_heaviest_tipset</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.80.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../../blocks/tipset/struct.Tipset.html" title="struct forest_filecoin::blocks::tipset::Tipset">Tipset</a>&gt;</h4></section></summary><div class="docblock"><p>Get the heaviest Tipset in the provider</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.put_message" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#39">source</a><h4 class="code-header">fn <a href="#tymethod.put_message" class="fn">put_message</a>(&amp;self, msg: &amp;<a class="enum" href="../../../message/chain_message/enum.ChainMessage.html" title="enum forest_filecoin::message::chain_message::ChainMessage">ChainMessage</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../../../shim/fvm_latest/kernel/prelude/type.Cid.html" title="type forest_filecoin::shim::fvm_latest::kernel::prelude::Cid">Cid</a>, <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Add a message to the <code>MpoolProvider</code>, return either Cid or Error
depending on successful put</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_actor_after" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#43">source</a><h4 class="code-header">fn <a href="#tymethod.get_actor_after" class="fn">get_actor_after</a>(
    &amp;self,
    addr: &amp;<a class="struct" href="../../../shim/address/struct.Address.html" title="struct forest_filecoin::shim::address::Address">Address</a>,
    ts: &amp;<a class="struct" href="../../../blocks/tipset/struct.Tipset.html" title="struct forest_filecoin::blocks::tipset::Tipset">Tipset</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../shim/state_tree/struct.ActorState.html" title="struct forest_filecoin::shim::state_tree::ActorState">ActorState</a>, <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return state actor for given address given the tipset that the a temp
<code>StateTree</code> will be rooted at. Return <code>ActorState</code> or Error
depending on whether or not <code>ActorState</code> is found</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.messages_for_block" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#45-48">source</a><h4 class="code-header">fn <a href="#tymethod.messages_for_block" class="fn">messages_for_block</a>(
    &amp;self,
    h: &amp;<a class="struct" href="../../../blocks/header/struct.CachingBlockHeader.html" title="struct forest_filecoin::blocks::header::CachingBlockHeader">CachingBlockHeader</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.80.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../shim/message/struct.Message.html" title="struct forest_filecoin::shim::message::Message">Message</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.80.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../message/signed_message/struct.SignedMessage.html" title="struct forest_filecoin::message::signed_message::SignedMessage">SignedMessage</a>&gt;), <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return the signed messages for given block header</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.load_tipset" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#50">source</a><h4 class="code-header">fn <a href="#tymethod.load_tipset" class="fn">load_tipset</a>(&amp;self, tsk: &amp;<a class="struct" href="../../../blocks/tipset/struct.TipsetKey.html" title="struct forest_filecoin::blocks::tipset::TipsetKey">TipsetKey</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.80.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../../blocks/tipset/struct.Tipset.html" title="struct forest_filecoin::blocks::tipset::Tipset">Tipset</a>&gt;, <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return a tipset given the tipset keys from the <code>ChainStore</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.chain_compute_base_fee" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#52">source</a><h4 class="code-header">fn <a href="#tymethod.chain_compute_base_fee" class="fn">chain_compute_base_fee</a>(&amp;self, ts: &amp;<a class="struct" href="../../../blocks/tipset/struct.Tipset.html" title="struct forest_filecoin::blocks::tipset::Tipset">Tipset</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../shim/econ/struct.TokenAmount.html" title="struct forest_filecoin::shim::econ::TokenAmount">TokenAmount</a>, <a class="enum" href="../../errors/enum.Error.html" title="enum forest_filecoin::message_pool::errors::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Computes the base fee</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">Â§</a></h2><div class="methods"><section id="method.max_actor_pending_messages" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#54-56">source</a><h4 class="code-header">fn <a href="#method.max_actor_pending_messages" class="fn">max_actor_pending_messages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u64.html">u64</a></h4></section><section id="method.max_untrusted_actor_pending_messages" class="method"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#58-60">source</a><h4 class="code-header">fn <a href="#method.max_untrusted_actor_pending_messages" class="fn">max_untrusted_actor_pending_messages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.u64.html">u64</a></h4></section></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">Â§</a></h2><div id="implementors-list"><section id="impl-Provider-for-MpoolRpcProvider%3CDB%3E" class="impl"><a class="src rightside" href="../../../../src/forest_filecoin/message_pool/msgpool/provider.rs.html#80-128">source</a><a href="#impl-Provider-for-MpoolRpcProvider%3CDB%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;DB&gt; <a class="trait" href="trait.Provider.html" title="trait forest_filecoin::message_pool::msgpool::provider::Provider">Provider</a> for <a class="struct" href="struct.MpoolRpcProvider.html" title="struct forest_filecoin::message_pool::msgpool::provider::MpoolRpcProvider">MpoolRpcProvider</a>&lt;DB&gt;<div class="where">where
    DB: <a class="trait" href="../../../../fvm_ipld_blockstore/trait.Blockstore.html" title="trait fvm_ipld_blockstore::Blockstore">Blockstore</a> + <a class="trait" href="https://doc.rust-lang.org/1.80.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/1.80.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,</div></h3></section></div><script src="../../../../trait.impl/forest_filecoin/message_pool/msgpool/provider/trait.Provider.js" async></script></section></div></main></body></html>